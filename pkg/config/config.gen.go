// Code generated by github.com/atombender/go-jsonschema, DO NOT EDIT.

package config

import "fmt"
import "encoding/json"
import "reflect"

// this file contains JSON schema for Dell COSI Driver Configuration file
type ConfigSchemaJson struct {
	// List of connections to object storage platforms that can be used for object
	// storage provisioning.
	Connections []Configuration `json:"connections,omitempty" yaml:"connections,omitempty"`

	// Path to the COSI socket
	CosiEndpoint string `json:"cosi-endpoint,omitempty" yaml:"cosi-endpoint,omitempty"`

	// Defines how verbose logs should be
	LogLevel ConfigSchemaJsonLogLevel `json:"log-level,omitempty" yaml:"log-level,omitempty"`
}

type ConfigSchemaJsonLogLevel string

const ConfigSchemaJsonLogLevelDebug ConfigSchemaJsonLogLevel = "debug"
const ConfigSchemaJsonLogLevelError ConfigSchemaJsonLogLevel = "error"
const ConfigSchemaJsonLogLevelFatal ConfigSchemaJsonLogLevel = "fatal"
const ConfigSchemaJsonLogLevelInfo ConfigSchemaJsonLogLevel = "info"
const ConfigSchemaJsonLogLevelTrace ConfigSchemaJsonLogLevel = "trace"
const ConfigSchemaJsonLogLevelWarning ConfigSchemaJsonLogLevel = "warning"

// Configuration for single connection to object storage platform that is used for
// object storage provisioning
type Configuration struct {
	// Objectscale corresponds to the JSON schema field "objectscale".
	Objectscale *Objectscale `json:"objectscale,omitempty" yaml:"objectscale,omitempty"`
}

// Credentials used for authentication to object storage provider
type Credentials struct {
	// Base64 encoded password
	Password string `json:"password" yaml:"password"`

	// Base64 encoded username
	Username string `json:"username" yaml:"username"`
}

// Configuration specific to the Dell ObjectScale platform
type Objectscale struct {
	// Credentials corresponds to the JSON schema field "credentials".
	Credentials Credentials `json:"credentials" yaml:"credentials"`

	// Default, unique identifier for the single connection.
	Id string `json:"id" yaml:"id"`

	// Endpoint of the ObjectScale Gateway Internal service
	ObjectscaleGateway string `json:"objectscale-gateway" yaml:"objectscale-gateway"`

	// Endpoint of the ObjectScale ObjectStore Management Gateway service
	ObjectstoreGateway string `json:"objectstore-gateway" yaml:"objectstore-gateway"`

	// Protocols corresponds to the JSON schema field "protocols".
	Protocols Protocols `json:"protocols" yaml:"protocols"`

	// Identity and Access Management (IAM) API specific field, points to the region
	// in which object storage provider is installed
	Region *string `json:"region,omitempty" yaml:"region,omitempty"`

	// Tls corresponds to the JSON schema field "tls".
	Tls Tls `json:"tls" yaml:"tls"`
}

// Protocols supported by the connection
type Protocols struct {
	// S3 corresponds to the JSON schema field "s3".
	S3 *S3 `json:"s3,omitempty" yaml:"s3,omitempty"`
}

// S3 configuration
type S3 struct {
	// Endpoint of the ObjectStore S3 service
	Endpoint string `json:"endpoint" yaml:"endpoint"`
}

// TLS configuration details
type Tls struct {
	// Base64 encoded certificate file
	ClientCas *string `json:"client-cas,omitempty" yaml:"client-cas,omitempty"`

	// Controls whether a client verifies the server's certificate chain and host name
	Insecure bool `json:"insecure" yaml:"insecure"`
}

var enumValues_ConfigSchemaJsonLogLevel = []interface{}{
	"fatal",
	"error",
	"warning",
	"info",
	"debug",
	"trace",
}

// UnmarshalJSON implements json.Unmarshaler.
func (j *Tls) UnmarshalJSON(b []byte) error {
	var raw map[string]interface{}
	if err := json.Unmarshal(b, &raw); err != nil {
		return err
	}
	if v, ok := raw["insecure"]; !ok || v == nil {
		return fmt.Errorf("field insecure in Tls: required")
	}
	type Plain Tls
	var plain Plain
	if err := json.Unmarshal(b, &plain); err != nil {
		return err
	}
	*j = Tls(plain)
	return nil
}

// UnmarshalJSON implements json.Unmarshaler.
func (j *ConfigSchemaJsonLogLevel) UnmarshalJSON(b []byte) error {
	var v string
	if err := json.Unmarshal(b, &v); err != nil {
		return err
	}
	var ok bool
	for _, expected := range enumValues_ConfigSchemaJsonLogLevel {
		if reflect.DeepEqual(v, expected) {
			ok = true
			break
		}
	}
	if !ok {
		return fmt.Errorf("invalid value (expected one of %#v): %#v", enumValues_ConfigSchemaJsonLogLevel, v)
	}
	*j = ConfigSchemaJsonLogLevel(v)
	return nil
}

// UnmarshalJSON implements json.Unmarshaler.
func (j *S3) UnmarshalJSON(b []byte) error {
	var raw map[string]interface{}
	if err := json.Unmarshal(b, &raw); err != nil {
		return err
	}
	if v, ok := raw["endpoint"]; !ok || v == nil {
		return fmt.Errorf("field endpoint in S3: required")
	}
	type Plain S3
	var plain Plain
	if err := json.Unmarshal(b, &plain); err != nil {
		return err
	}
	*j = S3(plain)
	return nil
}

// UnmarshalJSON implements json.Unmarshaler.
func (j *Objectscale) UnmarshalJSON(b []byte) error {
	var raw map[string]interface{}
	if err := json.Unmarshal(b, &raw); err != nil {
		return err
	}
	if v, ok := raw["credentials"]; !ok || v == nil {
		return fmt.Errorf("field credentials in Objectscale: required")
	}
	if v, ok := raw["id"]; !ok || v == nil {
		return fmt.Errorf("field id in Objectscale: required")
	}
	if v, ok := raw["objectscale-gateway"]; !ok || v == nil {
		return fmt.Errorf("field objectscale-gateway in Objectscale: required")
	}
	if v, ok := raw["objectstore-gateway"]; !ok || v == nil {
		return fmt.Errorf("field objectstore-gateway in Objectscale: required")
	}
	if v, ok := raw["protocols"]; !ok || v == nil {
		return fmt.Errorf("field protocols in Objectscale: required")
	}
	if v, ok := raw["tls"]; !ok || v == nil {
		return fmt.Errorf("field tls in Objectscale: required")
	}
	type Plain Objectscale
	var plain Plain
	if err := json.Unmarshal(b, &plain); err != nil {
		return err
	}
	*j = Objectscale(plain)
	return nil
}

// UnmarshalJSON implements json.Unmarshaler.
func (j *Credentials) UnmarshalJSON(b []byte) error {
	var raw map[string]interface{}
	if err := json.Unmarshal(b, &raw); err != nil {
		return err
	}
	if v, ok := raw["password"]; !ok || v == nil {
		return fmt.Errorf("field password in Credentials: required")
	}
	if v, ok := raw["username"]; !ok || v == nil {
		return fmt.Errorf("field username in Credentials: required")
	}
	type Plain Credentials
	var plain Plain
	if err := json.Unmarshal(b, &plain); err != nil {
		return err
	}
	*j = Credentials(plain)
	return nil
}

// UnmarshalJSON implements json.Unmarshaler.
func (j *ConfigSchemaJson) UnmarshalJSON(b []byte) error {
	var raw map[string]interface{}
	if err := json.Unmarshal(b, &raw); err != nil {
		return err
	}
	type Plain ConfigSchemaJson
	var plain Plain
	if err := json.Unmarshal(b, &plain); err != nil {
		return err
	}
	if v, ok := raw["cosi-endpoint"]; !ok || v == nil {
		plain.CosiEndpoint = "unix:///var/lib/cosi/cosi.sock"
	}
	if v, ok := raw["log-level"]; !ok || v == nil {
		plain.LogLevel = "info"
	}
	*j = ConfigSchemaJson(plain)
	return nil
}
